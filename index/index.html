<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Solo Mining Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #f1f5f9;
        }
        .crypto-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .bitcoin-orange {
            color: #f7931a;
        }
        .btn-bitcoin {
            background-color: #f7931a;
            transition: all 0.3s ease;
        }
        .btn-bitcoin:hover {
            background-color: #e8830e;
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(247, 147, 26, 0.3);
        }
        .log-container::-webkit-scrollbar {
            width: 6px;
        }
        .log-container::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 10px;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <!-- Language Selector -->
        <div class="flex justify-end mb-4">
            <select id="langSelector" onchange="changeLanguage()" class="bg-slate-800 border border-slate-700 rounded-lg p-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-orange-500">
                <option value="en">English</option>
                <option value="es">Espa√±ol</option>
                <option value="zh">ÁÆÄ‰Ωì‰∏≠Êñá</option>
                <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                <option value="fr">Fran√ßais</option>
                <option value="de">Deutsch</option>
            </select>
        </div>

        <!-- Header -->
        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold mb-2" id="t-title">Solo Mining <span class="bitcoin-orange">Simulator</span></h1>
            <p class="text-slate-400" id="t-subtitle">What is your chance of winning a 3.125 BTC block?</p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            
            <!-- Inputs Panel -->
            <div class="md:col-span-1 space-y-6">
                <div class="crypto-card p-6 rounded-2xl shadow-xl">
                    <h2 class="text-xl font-semibold mb-4 border-b border-slate-700 pb-2" id="t-config">Settings</h2>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-400 mb-1" id="t-label-ths">Your Power (TH/s)</label>
                            <input type="number" id="userThs" value="4.9" step="0.1" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-slate-400 mb-1" id="t-label-years">Time (Years)</label>
                            <input type="number" id="simYears" value="1" step="1" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500">
                        </div>

                        <div class="pt-2">
                            <label class="block text-sm font-medium text-slate-400 mb-1 italic" id="t-label-network">Global Hashrate (EH/s)</label>
                            <div class="relative">
                                <input type="number" id="networkEhs" value="811.71" class="w-full bg-slate-900 border border-slate-800 rounded-lg p-2 text-slate-500 text-sm cursor-not-allowed" readonly>
                                <span class="absolute right-2 top-2 text-[10px] text-green-500 animate-pulse" id="t-live">LIVE</span>
                            </div>
                        </div>

                        <button onclick="runSimulation()" class="w-full btn-bitcoin text-white font-bold py-4 rounded-xl mt-4 flex items-center justify-center gap-2">
                            <span id="t-btn">TRY YOUR LUCK!</span>
                        </button>
                    </div>
                </div>

                <!-- Stats Panel -->
                <div id="statsPanel" class="crypto-card p-6 rounded-2xl shadow-xl hidden">
                    <h2 class="text-lg font-semibold mb-3" id="t-prob-header">Theoretical Probability</h2>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-slate-400 text-sm" id="t-prob-daily">Daily:</span>
                            <span id="probDaily" class="font-mono text-sm">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-slate-400 text-sm" id="t-prob-period">In the period:</span>
                            <span id="probTotal" class="font-mono text-sm">0%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="md:col-span-2 space-y-6">
                <div id="resultCard" class="crypto-card p-8 rounded-2xl shadow-xl min-h-[300px] flex flex-col items-center justify-center text-center transition-all duration-500">
                    <div id="idleState">
                        <div class="text-6xl mb-4">‚õèÔ∏è</div>
                        <h3 class="text-2xl font-bold" id="t-idle-title">Ready to simulate</h3>
                        <p class="text-slate-400 mt-2" id="t-idle-desc">Enter your data and press the button to start the lottery.</p>
                    </div>

                    <div id="loadingState" class="hidden">
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500 mb-4"></div>
                        <p class="text-xl font-medium italic" id="t-loading-desc">Simulating every day of the calendar...</p>
                        <p id="progressText" class="text-orange-500 font-mono mt-2">0%</p>
                    </div>

                    <div id="winState" class="hidden">
                        <div class="text-7xl mb-4 animate-bounce">üéä</div>
                        <h3 class="text-3xl font-bold text-green-400" id="t-win-title">YOU WON A BLOCK!</h3>
                        <p class="text-slate-300 mt-4 text-lg" id="winDetail"></p>
                        <div class="mt-6 p-4 bg-green-900/30 rounded-lg border border-green-500/50">
                            <p class="text-green-200" id="t-win-reward">Reward: 3.125 BTC + Fees</p>
                        </div>
                    </div>

                    <div id="lossState" class="hidden">
                        <div class="text-7xl mb-4 opacity-50">üí∏</div>
                        <h3 class="text-3xl font-bold text-red-400" id="t-loss-title">YOU WON NOTHING</h3>
                        <p class="text-slate-300 mt-4 text-lg" id="t-loss-desc">You spent thousands on electricity and found no blocks.</p>
                        <p class="text-slate-500 mt-2 italic text-sm" id="lossDetail"></p>
                    </div>
                </div>

                <!-- Event Log -->
                <div class="crypto-card p-4 rounded-2xl shadow-xl h-48 overflow-hidden flex flex-col">
                    <h2 class="text-sm font-bold text-slate-500 uppercase tracking-widest mb-2" id="t-log-title">Event Log</h2>
                    <div id="log" class="log-container overflow-y-auto flex-1 text-xs font-mono space-y-1 text-slate-400">
                        <p id="t-log-init">> Waiting for simulation start...</p>
                    </div>
                </div>
            </div>
        </div>
        
        <footer class="mt-12 text-center text-slate-500 text-sm">
            <p id="t-footer-1">This simulator uses real stochastic probability based on current Bitcoin hashrate.</p>
            <p class="mt-1 italic" id="t-footer-note">Note: 1 EH/s = 1,000,000 TH/s</p>
        </footer>
    </div>

    <script>
        const translations = {
            en: {
                title: "Solo Mining <span class='bitcoin-orange'>Simulator</span>",
                subtitle: "What is your chance of winning a 3.125 BTC block?",
                config: "Settings",
                labelThs: "Your Power (TH/s)",
                labelYears: "Time (Years)",
                labelNetwork: "Global Hashrate (EH/s)",
                btn: "TRY YOUR LUCK!",
                probHeader: "Theoretical Probability",
                probDaily: "Daily:",
                probPeriod: "In the period:",
                idleTitle: "Ready to simulate",
                idleDesc: "Enter your data and press the button to start the lottery.",
                loadingDesc: "Simulating every day of the calendar...",
                winTitle: "YOU WON A BLOCK!",
                winReward: "Reward: 3.125 BTC + Fees",
                lossTitle: "YOU WON NOTHING",
                lossDesc: "You spent thousands on electricity and found no blocks.",
                logTitle: "Event Log",
                logInit: "Waiting for simulation start...",
                footer1: "This simulator uses real stochastic probability based on current Bitcoin hashrate.",
                footerNote: "Note: 1 EH/s = 1,000,000 TH/s",
                live: "LIVE",
                winDetailBase: "Incredible! You found a block on day ",
                lossDetailBase: "You played {0} times against a 1 in {1} daily probability.",
                logStart: "Starting simulation for {0} years ({1} days)...",
                logProb: "Daily probability: 1 in {0}",
                logWin: "WIN! Day {0}",
                logLoss: "Simulation ended: 0 blocks found.",
                updateLog: "Global Hashrate updated: {0} EH/s"
            },
            es: {
                title: "Simulador de <span class='bitcoin-orange'>Miner√≠a Solo</span>",
                subtitle: "¬øQu√© probabilidad tienes de ganar un bloque de 3.125 BTC?",
                config: "Configuraci√≥n",
                labelThs: "Tu Potencia (TH/s)",
                labelYears: "Tiempo (A√±os)",
                labelNetwork: "Red Global (EH/s)",
                btn: "¬°PROBAR SUERTE!",
                probHeader: "Probabilidad Te√≥rica",
                probDaily: "Al d√≠a:",
                probPeriod: "En el periodo:",
                idleTitle: "Listo para simular",
                idleDesc: "Introduce tus datos y pulsa el bot√≥n para empezar la loter√≠a.",
                loadingDesc: "Simulando cada d√≠a del calendario...",
                winTitle: "¬°HAS GANADO UN BLOQUE!",
                winReward: "Recompensa: 3.125 BTC + Comisiones",
                lossTitle: "NO HAS GANADO NADA",
                lossDesc: "Has gastado miles de euros en luz y no has encontrado ning√∫n bloque.",
                logTitle: "Registro de eventos",
                logInit: "Esperando inicio de simulaci√≥n...",
                footer1: "Este simulador usa una probabilidad estoc√°stica real basada en el Hashrate actual de la red Bitcoin.",
                footerNote: "Nota: 1 EH/s = 1,000,000 TH/s",
                live: "VIVO",
                winDetailBase: "¬°Incre√≠ble! Has encontrado un bloque en el d√≠a ",
                lossDetailBase: "Has jugado {0} veces contra una probabilidad de 1 entre {1} cada d√≠a.",
                logStart: "Iniciando simulaci√≥n por {0} a√±os ({1} d√≠as)...",
                logProb: "Probabilidad diaria: 1 entre {0}",
                logWin: "¬°GANASTE! D√≠a {0}",
                logLoss: "Simulaci√≥n terminada: 0 bloques encontrados.",
                updateLog: "Red Global actualizada: {0} EH/s"
            },
            zh: {
                title: "<span class='bitcoin-orange'>ÂçïÊú∫ÊåñÁüø</span> Ê®°ÊãüÂô®",
                subtitle: "Ëµ¢Âæó 3.125 BTC Âå∫ÂùóÁöÑÊ¶ÇÁéáÊòØÂ§öÂ∞ëÔºü",
                config: "ÈÖçÁΩÆ",
                labelThs: "ÊÇ®ÁöÑÁÆóÂäõ (TH/s)",
                labelYears: "Êó∂Èó¥ (Âπ¥)",
                labelNetwork: "ÂÖ®ÁêÉÁÆóÂäõ (EH/s)",
                btn: "ËØïËØïËøêÊ∞îÔºÅ",
                probHeader: "ÁêÜËÆ∫Ê¶ÇÁéá",
                probDaily: "ÊØèÊó•:",
                probPeriod: "ÊúüÈó¥ÂÜÖ:",
                idleTitle: "ÂáÜÂ§áÊ®°Êãü",
                idleDesc: "ËæìÂÖ•Êï∞ÊçÆÂπ∂ÁÇπÂáªÊåâÈíÆÂºÄÂßãÊäΩÂ•ñ„ÄÇ",
                loadingDesc: "Ê≠£Âú®Ê®°ÊãüÊó•ÂéÜ‰∏≠ÁöÑÊØè‰∏ÄÂ§©...",
                winTitle: "‰Ω†Ëµ¢‰∫Ü‰∏Ä‰∏™Âå∫ÂùóÔºÅ",
                winReward: "Â•ñÂä±: 3.125 BTC + ÊâãÁª≠Ë¥π",
                lossTitle: "‰∏ÄÊó†ÊâÄËé∑",
                lossDesc: "‰Ω†Ëä±‰∫ÜÊï∞ÂçÉÁîµË¥πÔºåÂç¥Ê≤°ÊúâÂèëÁé∞‰ªª‰ΩïÂå∫Âùó„ÄÇ",
                logTitle: "‰∫ã‰ª∂Êó•Âøó",
                logInit: "Á≠âÂæÖÊ®°ÊãüÂºÄÂßã...",
                footer1: "Ê≠§Ê®°ÊãüÂô®Âü∫‰∫éÂΩìÂâçÊØîÁâπÂ∏ÅÁÆóÂäõ‰ΩøÁî®ÁúüÂÆûÁöÑÈöèÊú∫Ê¶ÇÁéá„ÄÇ",
                footerNote: "Ê≥®ÊÑèÔºö1 EH/s = 1,000,000 TH/s",
                live: "ÂÆûÊó∂",
                winDetailBase: "‰∏çÂèØÊÄùËÆÆÔºÅ‰Ω†Âú®Á¨¨ {0} Â§©ÂèëÁé∞‰∫Ü‰∏Ä‰∏™Âå∫Âùó„ÄÇ",
                lossDetailBase: "‰Ω†Â∞ùËØï‰∫Ü {0} Ê¨°ÔºåÊØèÂ§©ÁöÑÊ¶ÇÁéá‰∏∫ {1} ÂàÜ‰πã‰∏Ä„ÄÇ",
                logStart: "ÂºÄÂßãÊ®°Êãü {0} Âπ¥Ôºà{1} Â§©Ôºâ...",
                logProb: "ÊØèÊó•Ê¶ÇÁéáÔºö1 / {0}",
                logWin: "Ëµ¢‰∫ÜÔºÅÁ¨¨ {0} Â§©",
                logLoss: "Ê®°ÊãüÁªìÊùüÔºöÊú™ÂèëÁé∞Âå∫Âùó„ÄÇ",
                updateLog: "ÂÖ®ÁêÉÁÆóÂäõÂ∑≤Êõ¥Êñ∞Ôºö{0} EH/s"
            },
            hi: {
                title: "<span class='bitcoin-orange'>‡§∏‡•ã‡§≤‡•ã ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó</span> ‡§∏‡§ø‡§Æ‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡§∞",
                subtitle: "3.125 BTC ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ú‡•Ä‡§§‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
                config: "‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏",
                labelThs: "‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø (TH/s)",
                labelYears: "‡§∏‡§Æ‡§Ø (‡§µ‡§∞‡•ç‡§∑)",
                labelNetwork: "‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤ ‡§π‡•à‡§∂‡§∞‡•á‡§ü (EH/s)",
                btn: "‡§ï‡§ø‡§∏‡•ç‡§Æ‡§§ ‡§Ü‡§ú‡§Æ‡§æ‡§è‡§Ç!",
                probHeader: "‡§∏‡•à‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§‡§ø‡§ï ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ",
                probDaily: "‡§¶‡•à‡§®‡§ø‡§ï:",
                probPeriod: "‡§Ö‡§µ‡§ß‡§ø ‡§Æ‡•á‡§Ç:",
                idleTitle: "‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞",
                idleDesc: "‡§°‡•á‡§ü‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§≤‡•â‡§ü‡§∞‡•Ä ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§è‡§Ç‡•§",
                loadingDesc: "‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞ ‡§ï‡•á her ‡§¶‡§ø‡§® ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§ï‡§∞‡§£...",
                winTitle: "‡§Ü‡§™‡§®‡•á ‡§è‡§ï ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ú‡•Ä‡§§ ‡§≤‡§ø‡§Ø‡§æ!",
                winReward: "‡§á‡§®‡§æ‡§Æ: 3.125 BTC + ‡§´‡•Ä‡§∏",
                lossTitle: "‡§Ü‡§™‡§®‡•á ‡§ï‡•Å‡§õ ‡§®‡§π‡•Ä‡§Ç ‡§ú‡•Ä‡§§‡§æ",
                lossDesc: "‡§Ü‡§™‡§®‡•á ‡§¨‡§ø‡§ú‡§≤‡•Ä ‡§™‡§∞ ‡§π‡§ú‡§æ‡§∞‡•ã‡§Ç ‡§ñ‡§∞‡•ç‡§ö ‡§ï‡§ø‡§è ‡§î‡§∞ ‡§ï‡•ã‡§à ‡§¨‡•ç‡§≤‡•â‡§ï ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§",
                logTitle: "‡§á‡§µ‡•á‡§Ç‡§ü ‡§≤‡•â‡§ó",
                logInit: "‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à...",
                footer1: "‡§Ø‡§π ‡§∏‡§ø‡§Æ‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡§∞ ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§¨‡§ø‡§ü‡§ï‡•â‡§á‡§® ‡§π‡•à‡§∂‡§∞‡•á‡§ü ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§∏‡•ç‡§ü‡•ã‡§ï‡•á‡§∏‡•ç‡§ü‡§ø‡§ï ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§",
                footerNote: "‡§®‡•ã‡§ü: 1 EH/s = 1,000,000 TH/s",
                live: "‡§≤‡§æ‡§á‡§µ",
                winDetailBase: "‡§Ö‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø! ‡§Ü‡§™‡§ï‡•ã ‡§¶‡§ø‡§® {0} ‡§™‡§∞ ‡§è‡§ï ‡§¨‡•ç‡§≤‡•â‡§ï ‡§Æ‡§ø‡§≤‡§æ‡•§",
                lossDetailBase: "‡§Ü‡§™‡§®‡•á {0} ‡§¨‡§æ‡§∞ ‡§ñ‡•á‡§≤‡§æ, ‡§π‡§∞ ‡§¶‡§ø‡§® ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ {1} ‡§Æ‡•á‡§Ç 1 ‡§•‡•Ä‡•§",
                logStart: "{0} ‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ({1} ‡§¶‡§ø‡§®‡•ã‡§Ç) ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...",
                logProb: "‡§¶‡•à‡§®‡§ø‡§ï ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ: {0} ‡§Æ‡•á‡§Ç 1",
                logWin: "‡§ú‡•Ä‡§§! ‡§¶‡§ø‡§® {0}",
                logLoss: "‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§® ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§: 0 ‡§¨‡•ç‡§≤‡•â‡§ï ‡§Æ‡§ø‡§≤‡•á‡•§",
                updateLog: "‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤ ‡§π‡•à‡§∂‡§∞‡•á‡§ü ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ: {0} EH/s"
            },
            fr: {
                title: "Simulateur de <span class='bitcoin-orange'>Mining Solo</span>",
                subtitle: "Quelle est votre chance de gagner un bloc de 3.125 BTC ?",
                config: "Configuration",
                labelThs: "Votre puissance (TH/s)",
                labelYears: "Temps (Ann√©es)",
                labelNetwork: "Hashrate Global (EH/s)",
                btn: "TENTER SA CHANCE !",
                probHeader: "Probabilit√© Th√©orique",
                probDaily: "Par jour :",
                probPeriod: "Sur la p√©riode :",
                idleTitle: "Pr√™t √† simuler",
                idleDesc: "Entrez vos donn√©es et appuyez sur le bouton pour commencer.",
                loadingDesc: "Simulation de chaque jour du calendrier...",
                winTitle: "VOUS AVEZ GAGN√â UN BLOC !",
                winReward: "R√©compense : 3.125 BTC + Frais",
                lossTitle: "VOUS N'AVEZ RIEN GAGN√â",
                lossDesc: "Vous avez d√©pens√© des milliers en √©lectricit√© sans succ√®s.",
                logTitle: "Journal d'√©v√©nements",
                logInit: "En attente du d√©but de la simulation...",
                footer1: "Ce simulateur utilise une probabilit√© stochastique r√©elle bas√©e sur le hashrate actuel.",
                footerNote: "Note : 1 EH/s = 1,000,000 TH/s",
                live: "DIRECT",
                winDetailBase: "Incroyable ! Bloc trouv√© au jour ",
                lossDetailBase: "Tent√© {0} fois avec une probabilit√© quotidienne de 1 sur {1}.",
                logStart: "D√©but de simulation pour {0} ans ({1} jours)...",
                logProb: "Probabilit√© quotidienne : 1 sur {0}",
                logWin: "GAGN√â ! Jour {0}",
                logLoss: "Simulation termin√©e : 0 bloc trouv√©.",
                updateLog: "Hashrate global mis √† jour : {0} EH/s"
            },
            de: {
                title: "<span class='bitcoin-orange'>Solo Mining</span> Simulator",
                subtitle: "Wie hoch ist die Chance auf einen 3.125 BTC Block?",
                config: "Einstellungen",
                labelThs: "Deine Leistung (TH/s)",
                labelYears: "Zeit (Jahre)",
                labelNetwork: "Globale Hashrate (EH/s)",
                btn: "GL√úCK VERSUCHEN!",
                probHeader: "Theoretische Wahrscheinlichkeit",
                probDaily: "T√§glich:",
                probPeriod: "Im Zeitraum:",
                idleTitle: "Bereit zur Simulation",
                idleDesc: "Daten eingeben und Button dr√ºcken.",
                loadingDesc: "Simuliere jeden Tag des Kalenders...",
                winTitle: "BLOCK GEWONNEN!",
                winReward: "Belohnung: 3.125 BTC + Geb√ºhren",
                lossTitle: "NICHTS GEWONNEN",
                lossDesc: "Tausende f√ºr Strom ausgegeben und nichts gefunden.",
                logTitle: "Ereignisprotokoll",
                logInit: "Warten auf Start...",
                footer1: "Dieser Simulator nutzt reale stochastische Wahrscheinlichkeit basierend auf der Hashrate.",
                footerNote: "Hinweis: 1 EH/s = 1,000,000 TH/s",
                live: "LIVE",
                winDetailBase: "Unglaublich! Block gefunden an Tag ",
                lossDetailBase: "{0} Versuche bei einer t√§glichen Wahrscheinlichkeit von 1 zu {1}.",
                logStart: "Simulation f√ºr {0} Jahre ({1} Tage) gestartet...",
                logProb: "T√§gliche Wahrscheinlichkeit: 1 zu {0}",
                logWin: "SIEG! Tag {0}",
                logLoss: "Simulation beendet: 0 Bl√∂cke gefunden.",
                updateLog: "Globale Hashrate aktualisiert: {0} EH/s"
            }
        };

        let currentLang = 'en'; // Default to English

        // Detection function: tries browser language, but defaults to English
        function detectLanguage() {
            const browserLang = navigator.language.split('-')[0]; 
            const supportedLangs = Object.keys(translations);
            
            // Set English as baseline
            currentLang = 'en';

            // Override only if browser language is supported and not English (since it's already set)
            if (supportedLangs.includes(browserLang)) {
                currentLang = browserLang;
            }
            
            document.getElementById('langSelector').value = currentLang;
            changeLanguage();
        }

        function changeLanguage() {
            currentLang = document.getElementById('langSelector').value;
            const t = translations[currentLang];
            
            document.getElementById('t-title').innerHTML = t.title;
            document.getElementById('t-subtitle').innerText = t.subtitle;
            document.getElementById('t-config').innerText = t.config;
            document.getElementById('t-label-ths').innerText = t.labelThs;
            document.getElementById('t-label-years').innerText = t.labelYears;
            document.getElementById('t-label-network').innerText = t.labelNetwork;
            document.getElementById('t-btn').innerText = t.btn;
            document.getElementById('t-prob-header').innerText = t.probHeader;
            document.getElementById('t-prob-daily').innerText = t.probDaily;
            document.getElementById('t-prob-period').innerText = t.probPeriod;
            document.getElementById('t-idle-title').innerText = t.idleTitle;
            document.getElementById('t-idle-desc').innerText = t.idleDesc;
            document.getElementById('t-loading-desc').innerText = t.loadingDesc;
            document.getElementById('t-win-title').innerText = t.winTitle;
            document.getElementById('t-win-reward').innerText = t.winReward;
            document.getElementById('t-loss-title').innerText = t.lossTitle;
            document.getElementById('t-loss-desc').innerText = t.lossDesc;
            document.getElementById('t-log-title').innerText = t.logTitle;
            document.getElementById('t-log-init').innerText = "> " + t.logInit;
            document.getElementById('t-footer-1').innerText = t.footer1;
            document.getElementById('t-footer-note').innerText = t.footerNote;
            document.getElementById('t-live').innerText = t.live;
        }

        async function fetchLiveHashrate() {
            const t = translations[currentLang];
            try {
                const response = await fetch('https://blockchain.info/q/hashrate');
                if (response.ok) {
                    const hashrateGhs = await response.text();
                    const hashrateEhs = (parseFloat(hashrateGhs) / 1000000000).toFixed(2);
                    document.getElementById('networkEhs').value = hashrateEhs;
                    log(t.updateLog.replace("{0}", hashrateEhs), 'text-green-500');
                }
            } catch (e) {
                console.log("Could not fetch real-time hashrate.");
            }
        }

        function log(message, color = 'text-slate-400') {
            const logDiv = document.getElementById('log');
            const p = document.createElement('p');
            p.className = color;
            p.innerText = `> ${message}`;
            logDiv.prepend(p);
        }

        async function runSimulation() {
            const t = translations[currentLang];
            const userThs = parseFloat(document.getElementById('userThs').value);
            const simYears = parseInt(document.getElementById('simYears').value);
            const networkEhs = parseFloat(document.getElementById('networkEhs').value);
            
            if (isNaN(userThs) || userThs <= 0 || isNaN(simYears) || simYears <= 0) return;

            document.getElementById('idleState').classList.add('hidden');
            document.getElementById('winState').classList.add('hidden');
            document.getElementById('lossState').classList.add('hidden');
            document.getElementById('loadingState').classList.remove('hidden');
            document.getElementById('statsPanel').classList.remove('hidden');
            document.getElementById('log').innerHTML = "";

            const networkThs = networkEhs * 1000000;
            const blocksPerDay = 144;
            const totalDays = simYears * 365;
            const probPerBlock = userThs / networkThs;
            const probPerDay = 1 - Math.pow((1 - probPerBlock), blocksPerDay);
            const totalProb = 1 - Math.pow((1 - probPerDay), totalDays);

            document.getElementById('probDaily').innerText = (probPerDay * 100).toFixed(8) + "%";
            document.getElementById('probTotal').innerText = (totalProb * 100).toFixed(4) + "%";

            log(t.logStart.replace("{0}", simYears).replace("{1}", totalDays));
            log(t.logProb.replace("{0}", Math.round(1/probPerDay).toLocaleString()));

            let won = false;
            let winDay = 0;

            for (let day = 1; day <= totalDays; day++) {
                if (day % 100 === 0) {
                    document.getElementById('progressText').innerText = Math.floor((day / totalDays) * 100) + "%";
                    await new Promise(resolve => setTimeout(resolve, 0));
                }

                if (Math.random() < probPerDay) {
                    won = true;
                    winDay = day;
                    break;
                }
            }

            document.getElementById('loadingState').classList.add('hidden');
            if (won) {
                document.getElementById('winState').classList.remove('hidden');
                document.getElementById('winDetail').innerText = t.winDetailBase + winDay.toLocaleString() + ".";
                log(t.logWin.replace("{0}", winDay), 'text-green-400 font-bold');
            } else {
                document.getElementById('lossState').classList.remove('hidden');
                document.getElementById('lossDetail').innerText = t.lossDetailBase
                    .replace("{0}", totalDays.toLocaleString())
                    .replace("{1}", Math.round(1/probPerDay).toLocaleString());
                log(t.logLoss, 'text-red-400');
            }
        }

        window.onload = () => {
            detectLanguage(); 
            fetchLiveHashrate();
        };
    </script>
</body>
</html>